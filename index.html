 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Orbisyn Navbar Enhanced</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<style>
  *, *::before, *::after { box-sizing: border-box; }
  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: #f8f9fb;
    margin: 0;
    color: #222;
  }
  a {
    color: inherit;
    text-decoration: none;
  }
  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  button {
    font-family: inherit;
    border: none;
    background: none;
    cursor: pointer;
    color: inherit;
  }

  .header {
    position: sticky;
    top: 0;
    background: #fff;
    border-bottom: 1px solid #bebebe;
    box-shadow: 0 2px 7px rgba(0,0,0,0.04);
    z-index: 1000;
  }
  .navbar-container {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0.6rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }
  .logo {
    font-weight: 800;
    font-size: 1.5rem;
    color: #111;
    letter-spacing: 1.1px;
    user-select: none;
    cursor: pointer;
    pointer-events: auto;
  }
  /* no hover/focus animation on logo */
  .nav {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    flex-wrap: wrap;
  }
  .nav > li {
    position: relative;
  }
  .nav-link,
  .nav > li > a {
    font-weight: 600;
    font-size: 1rem;
    padding: 0.6rem 1.3rem;
    border-radius: 0;
    position: relative;
    line-height: 1.2;
    color: #222;
    transition: color 0.27s;
    background: transparent;
  }
  .nav-link:hover,
  .nav-link:focus-visible,
  .nav > li > a:hover,
  .nav > li > a:focus-visible {
    color: #000;
    outline: none;
  }
  .nav-link::after,
  .nav > li > a::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 5px;
    width: 0%;
    height: 2px;
    background-color: #000;
    transition: width 0.3s;
    border-radius: 1px;
  }
  .nav-link:hover::after,
  .nav-link:focus-visible::after,
  .nav > li > a:hover::after,
  .nav > li > a:focus-visible::after {
    width: 100%;
  }

  /* Redesigned Let’s Get Started button */
  .get-started-btn {
    background: #000;
    color: white;
    padding: 0.55rem 2.2rem;
    border-radius: 24px;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    transition: background-color 0.3s, box-shadow 0.3s, transform 0.15s ease-in-out;
    white-space: nowrap;
  }
  .get-started-btn:hover,
  .get-started-btn:focus-visible {
    background: #222;
    box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    transform: scale(1.05);
    outline-offset: 3px;
    outline: 2px solid #666;
    text-decoration: none;
  }

  /* Login button style */
  .login-btn {
    background: transparent;
    color: #000;
    border: 2px solid transparent;
    padding: 0.5rem 1.4rem;
    border-radius: 7px;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.3s, border-color 0.3s, color 0.3s;
    margin-left: 0.4rem;
    white-space: nowrap;
  }
  .login-btn:hover,
  .login-btn:focus-visible {
    background: #000;
    color: white;
    border-color: #000;
    outline: none;
  }

  /* Mega dropdown style */
  .dropdown {
    position: absolute;
    top: calc(100% + 0.35rem);
    left: 0;
    background: white;
    border-radius: 10px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.15);
    min-width: 280px;
    max-width: 320px;
    opacity: 0;
    pointer-events: none;
    padding: 1.25rem 1.5rem;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 50;
  }
  .dropdown.open { opacity: 1; pointer-events: auto; }
  .dropdown-section { margin-bottom: 1.2rem; }
  .dropdown-section:last-child { margin-bottom: 0; }
  .dropdown-title {
    font-weight: 700;
    color: #111;
    margin-bottom: 0.75rem;
    font-size: 1.05rem;
  }
  .dropdown a {
    font-weight: 500;
    padding: 0.2rem 0;
    display: block;
    color: #222;
    position: relative;
    background: transparent;
    font-size: 0.95rem;
    border-radius: 0;
    transition: color 0.25s;
  }
  .dropdown a:hover, .dropdown a:focus-visible {
    color: #000;
    outline: none;
  }
  .dropdown a::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 3px;
    width: 0%;
    height: 2px;
    background-color: #000;
    transition: width 0.3s;
    border-radius: 1px;
  }
  .dropdown a:hover::after, .dropdown a:focus-visible::after {
    width: 100%;
  }
  .menu-toggle {
    display: none;
    font-size: 2.2rem;
    line-height: 1;
    cursor: pointer;
    border-radius: 6px;
    color: #111;
    transition: background-color 0.23s;
    padding: 0.3rem 0.65rem 0.25rem 0.65rem;
  }
  .menu-toggle:hover, .menu-toggle:focus-visible {
    background-color: #eee;
    outline-offset: 2px;
    outline: 2px solid #666;
  }
  .nav-and-cta {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }
  @media (max-width: 1024px) {
    .nav {
      display: none;
      width: 100%;
      flex-direction: column;
      gap: 0;
      background: white;
      border-radius: 0 0 10px 10px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.12);
      margin-top: 0.3rem;
      padding: 1rem 0;
    }
    .nav.show { display: flex; }
    .nav > li { width: 100%; }
    .nav-link, .nav > li > a {
      padding: 1rem 2rem;
      width: 100%;
      text-align: left;
      border-radius: 0;
    }
    .dropdown {
      position: static;
      opacity: 1 !important;
      pointer-events: auto !important;
      max-height: none !important;
      padding-left: 2rem;
      margin-bottom: 1rem;
      box-shadow: none;
      border-radius: 0;
      max-width: 100% !important;
    }
    .dropdown-section { margin-bottom: 1rem; }
    .dropdown a { padding-left: 0.5rem; }
    .menu-toggle { display: block; margin-left: auto; }
    .get-started-btn {
      width: 100%;
      text-align: center;
      padding: 1rem 0;
      font-size: 1.15rem;
      margin-top: 0.5rem;
      border-radius: 28px;
    }
  }

  /* Multi-Step Form Modal Styles */
  .form-backdrop {
    position: fixed;
    inset: 0;
    z-index: 1001;
    background: rgba(0,0,0,0.25);
    backdrop-filter: blur(1.5px);
    display: none;
    align-items: center;
    justify-content: center;
  }
  .form-backdrop.show {
    display: flex;
  }
  .glass-card {
    background: rgba(255,255,255,0.98);
    border-radius: 1.3em;
    box-shadow: 
      0 12px 38px 0 rgba(0,0,0,0.15), 
      0 1.5px 6px rgba(0,0,0,0.08);
    padding: 2.5rem 2.5rem 2.5rem 2.5rem;
    max-width: 320px;
    width: 90vw;
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  .close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: rgba(0,0,0,0.05);
    border: none;
    font-size: 1.1rem;
    color: #666;
    width: 1.8rem; height: 1.8rem;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    transition: background 0.17s, color 0.17s;
    z-index: 2;
  }
  .close-btn:hover, .close-btn:focus-visible {
    background: #e9ecef;
    color: #111;
    outline: none;
  }
  .progress-container {
    margin: 0 0 1.8rem 0;
    position: relative;
  }
  .progress-bar-wrapper {
    position: relative;
    width: 100%;
    height: 5px;
    background: #e9ecef;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.1);
  }
  .progress-bar-fill {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg, #000 0%, #333 100%);
    border-radius: 8px;
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  .progress-bar-fill::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 6px;
    height: 100%;
    background: #000;
    border-radius: 0 8px 8px 0;
    box-shadow: 0 0 6px rgba(0,0,0,0.3);
  }
  .progress-steps {
    display: flex;
    justify-content: space-between;
    margin-top: 0.7rem;
    position: relative;
  }
  .progress-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 0.8rem;
    color: #999;
    font-weight: 600;
    position: relative;
  }
  .progress-step::before {
    content: attr(data-num);
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: #e9ecef;
    color: #999;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.75rem;
    margin-bottom: 0.3rem;
    border: 2px solid transparent;
    transition: all 0.3s ease;
  }
  .progress-step.active::before {
    background: #000;
    color: #fff;
    border-color: #000;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  .progress-step.active {
    color: #000;
  }
  .form-title {
    font-weight: 800;
    font-size: 1.2rem;
    color: #111;
    letter-spacing: 0.01em;
    margin: 0 0 0.4rem 0;
    text-align: center;
    user-select: none;
  }
  .form-description {
    font-size: 0.9rem;
    margin-bottom: 1.8rem;
    color: #555;
    text-align: center;
    line-height: 1.4;
    user-select: none;
  }
  .form-fields {
    display: flex;
    flex-direction: column;
    gap: 1.3rem;
    margin-bottom: 1.8rem;
  }
  .input-wrap {
    width: 100%;
  }
  .form-input {
    width: 100%;
    padding: 0.9rem 1.1rem;
    border: none;
    border-radius: 999px;
    background: #f8f9fa;
    font-size: 0.95rem;
    font-weight: 500;
    color: #111;
    box-shadow:
      0 1.5px 9px -4px rgba(0,0,0,0.12),
      0 1px 2px #fff;
    margin-top: 0.2em;
    margin-bottom: 0.1em;
    transition: box-shadow 0.23s, background 0.23s, border 0.23s;
    outline: none;
    border: 2px solid transparent;
    box-sizing: border-box;
  }
  .form-input::placeholder {
    color: #aaa;
    font-weight: 400;
    opacity: 1;
    font-size: 0.95rem;
  }
  .form-input:focus {
    background: #fff;
    border-color: #000;
    box-shadow: 0 0 0 3px rgba(0,0,0,0.1), 0 1.5px 9px -4px rgba(0,0,0,0.2);
  }
  .form-label {
    display: block;
    font-size: 0.9rem;
    font-weight: 600;
    color: #333;
    margin-left: 0.2em;
    margin-bottom: 0.3em;
    letter-spacing: 0.005em;
  }
  .form-next-btn {
    width: 100%;
    display: block;
    background: linear-gradient(90deg, #000 0%, #333 100%);
    color: #fff;
    padding: 0.9rem;
    font-weight: 800;
    font-size: 1rem;
    border: none;
    border-radius: 999px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    opacity: 0.46;
    margin-top: 0.4rem;
    transition: background 0.19s, box-shadow 0.19s, opacity 0.19s, transform 0.15s;
  }
  .form-next-btn:enabled {
    opacity: 1;
  }
  .form-next-btn:hover:enabled, .form-next-btn:focus-visible:enabled {
    background: linear-gradient(90deg, #111 10%, #000 90%);
    box-shadow: 0 8px 28px rgba(0,0,0,0.25);
    transform: translateY(-1px) scale(1.015);
    outline: none;
  }
  .step-content {
    display: none;
  }
  .step-content.active {
    display: block;
  }
  .thank-you-text {
    font-size: 1rem;
    font-weight: 700;
    color: #111;
    text-align: center;
    padding: 1.8rem 0.5rem;
    user-select: none;
    line-height: 1.4;
  }
  .privacy-note {
    font-size: 0.75rem;
    color: #666;
    margin-top: 1.8rem;
    text-align: center;
    user-select: none;
    letter-spacing: .008em;
  }
  @media (max-width: 560px) {
    .glass-card {
      padding: 2rem 2rem 2rem 2rem;
      max-width: 95vw;
    }
  }

  /* Chaotic Orbit Loader Animation */
  .chaotic-orbit {
    --uib-size: 35px;
    --uib-speed: 1.5s;
    --uib-color: #007bff;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    height: var(--uib-size);
    width: var(--uib-size);
    animation: rotate936 calc(var(--uib-speed) * 1.667) infinite linear;
  }

  .chaotic-orbit::before,
  .chaotic-orbit::after {
    content: '';
    position: absolute;
    height: 60%;
    width: 60%;
    border-radius: 50%;
    background-color: var(--uib-color);
    will-change: transform;
    flex-shrink: 0;
  }

  .chaotic-orbit::before {
    animation: orbit var(--uib-speed) linear infinite;
  }

  .chaotic-orbit::after {
    animation: orbit var(--uib-speed) linear calc(var(--uib-speed) / -2) infinite;
  }

  @keyframes rotate936 {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  @keyframes orbit {
    0% { transform: translate(calc(var(--uib-size) * 0.5)) scale(0.73684); opacity: 0.65; }
    5% { transform: translate(calc(var(--uib-size) * 0.4)) scale(0.684208); opacity: 0.58; }
    10% { transform: translate(calc(var(--uib-size) * 0.3)) scale(0.631576); opacity: 0.51; }
    15% { transform: translate(calc(var(--uib-size) * 0.2)) scale(0.578944); opacity: 0.44; }
    20% { transform: translate(calc(var(--uib-size) * 0.1)) scale(0.526312); opacity: 0.37; }
    25% { transform: translate(0%) scale(0.47368); opacity: 0.3; }
    30% { transform: translate(calc(var(--uib-size) * -0.1)) scale(0.526312); opacity: 0.37; }
    35% { transform: translate(calc(var(--uib-size) * -0.2)) scale(0.578944); opacity: 0.44; }
    40% { transform: translate(calc(var(--uib-size) * -0.3)) scale(0.631576); opacity: 0.51; }
    45% { transform: translate(calc(var(--uib-size) * -0.4)) scale(0.684208); opacity: 0.58; }
    50% { transform: translate(calc(var(--uib-size) * -0.5)) scale(0.73684); opacity: 0.65; }
    55% { transform: translate(calc(var(--uib-size) * -0.4)) scale(0.789472); opacity: 0.72; }
    60% { transform: translate(calc(var(--uib-size) * -0.3)) scale(0.842104); opacity: 0.79; }
    65% { transform: translate(calc(var(--uib-size) * -0.2)) scale(0.894736); opacity: 0.86; }
    70% { transform: translate(calc(var(--uib-size) * -0.1)) scale(0.947368); opacity: 0.93; }
    75% { transform: translate(0%) scale(1); opacity: 1; }
    80% { transform: translate(calc(var(--uib-size) * 0.1)) scale(0.947368); opacity: 0.93; }
    85% { transform: translate(calc(var(--uib-size) * 0.2)) scale(0.894736); opacity: 0.86; }
    90% { transform: translate(calc(var(--uib-size) * 0.3)) scale(0.842104); opacity: 0.79; }
    95% { transform: translate(calc(var(--uib-size) * 0.4)) scale(0.789472); opacity: 0.72; }
    100% { transform: translate(calc(var(--uib-size) * 0.5)) scale(0.73684); opacity: 0.65; }
  }

  /* Login Loading State */
  .login-loading-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(4px);
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 10;
    border-radius: 1.2em;
    transition: all 0.3s ease;
  }

  .login-loading-overlay.show {
    display: flex;
  }

  .login-loading-content {
    text-align: center;
    padding: 2rem;
  }

  .login-loading-message {
    margin-top: 1.5rem;
    font-size: 1rem;
    font-weight: 600;
    color: #333;
    line-height: 1.4;
  }

  .login-loading-submessage {
    margin-top: 0.8rem;
    font-size: 0.85rem;
    color: #666;
    line-height: 1.3;
  }

  .login-loading-progress {
    margin-top: 1rem;
    width: 200px;
    height: 4px;
    background: #e9ecef;
    border-radius: 2px;
    overflow: hidden;
  }

  .login-loading-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #007bff, #0056b3);
    border-radius: 2px;
    width: 0%;
    transition: width 0.3s ease;
    animation: progressPulse 2s ease-in-out infinite;
  }

  @keyframes progressPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  /* Enhanced Demo Button Styles for Loader */
  .demo-btn {
    background: linear-gradient(90deg, #000 0%, #333 100%);
    color: #fff;
    padding: 0.8rem;
    font-weight: 600;
    font-size: 0.9rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    transition: background 0.19s, box-shadow 0.19s, transform 0.15s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
  }

  .demo-btn:hover {
    background: linear-gradient(90deg, #111 10%, #000 90%);
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    transform: translateY(-1px);
  }

  .status {
    margin-top: 1rem;
    font-size: 0.8rem;
    color: #666;
    padding: 0.6rem;
    background: #f8f9fa;
    border-radius: 6px;
    border: 1px solid #e9ecef;
    transition: all 0.3s ease;
  }

  /* Login Form Modal Styles */
  .login-backdrop {
    position: fixed;
    inset: 0;
    z-index: 1002;
    background: rgba(0,0,0,0.25);
    backdrop-filter: blur(1.5px);
    display: none;
    align-items: center;
    justify-content: center;
  }
  .login-backdrop.show {
    display: flex;
  }
  .login-card {
    background: rgba(255,255,255,0.98);
    border-radius: 1.2em;
    box-shadow: 
      0 8px 24px 0 rgba(0,0,0,0.12), 
      0 1px 4px rgba(0,0,0,0.06);
    padding: 2rem 2rem 2rem 2rem;
    max-width: 320px;
    width: 85vw;
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  .login-close-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    background: rgba(0,0,0,0.05);
    border: none;
    color: #666;
    width: 1.8rem; height: 1.8rem;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    transition: background 0.17s, color 0.17s;
    z-index: 2;
  }
  .login-close-btn .material-icons {
    font-size: 1.1rem !important;
  }
  .login-close-btn:hover, .login-close-btn:focus-visible {
    background: #e9ecef;
    color: #111;
    outline: none;
  }
  /* Login Type Toggle */
  .login-toggle {
    display: flex;
    background: #f8f9fa;
    border-radius: 8px;
    padding: 3px;
    margin-bottom: 1.2rem;
    border: 1px solid #e9ecef;
  }
  .toggle-btn {
    flex: 1;
    background: transparent;
    border: none;
    padding: 0.6rem 0.8rem;
    font-weight: 600;
    font-size: 0.8rem;
    color: #666;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  .toggle-btn.active {
    background: #000;
    color: #fff;
    box-shadow: 0 1px 4px rgba(0,0,0,0.15);
  }
  .brand-logo {
    text-align: center;
    margin-bottom: 1rem;
  }
  .brand-logo h1 {
    font-size: 1.4rem;
    font-weight: 800;
    color: #111;
    margin: 0;
    letter-spacing: 0.02em;
  }
  .login-title {
    font-weight: 700;
    font-size: 1rem;
    color: #111;
    margin: 0 0 0.8rem 0;
    text-align: center;
  }
  /* Security Warning */
  .security-warning {
    background: #fff8dc;
    border: 1px solid #f0e68c;
    border-radius: 6px;
    padding: 0.6rem;
    margin-bottom: 1rem;
    font-size: 0.75rem;
    color: #b8860b;
  }
  .security-warning .warning-title {
    font-weight: 600;
    margin-bottom: 0.2rem;
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }
  .security-warning .material-icons {
    font-size: 1rem !important;
  }
  .security-warning ul {
    margin: 0.3rem 0 0 0.8rem;
    padding: 0;
  }
  .security-warning li {
    margin-bottom: 0.1rem;
  }
  .login-form-fields {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    margin-bottom: 0.8rem;
  }
  .login-input-group {
    position: relative;
  }
  .login-label {
    display: block;
    font-size: 0.8rem;
    font-weight: 600;
    color: #333;
    margin-bottom: 0.3rem;
  }
  .login-input {
    width: 100%;
    padding: 0.8rem 1rem;
    border: 2px solid #e9ecef;
    border-radius: 6px;
    background: #fff;
    font-size: 0.9rem;
    font-weight: 500;
    color: #111;
    transition: border-color 0.23s, box-shadow 0.23s;
    outline: none;
    box-sizing: border-box;
  }
  .login-input[type="password"] {
    padding-right: 2.5rem;
  }
  .login-input:focus {
    border-color: #000;
    box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
  }
  .login-input::placeholder {
    color: #aaa;
    font-weight: 400;
  }
  .password-toggle {
    position: absolute;
    right: 8px;
    top: 60%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: #666;
    cursor: pointer;
    transition: color 0.2s;
    padding: 4px;
    border-radius: 4px;
  }
  .password-toggle .material-icons {
    font-size: 1.1rem !important;
  }
  .password-toggle:hover {
    color: #000;
    background: rgba(0,0,0,0.05);
  }
  /* Password Guidelines */
  .password-guidelines {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    padding: 0.6rem;
    margin-bottom: 0.8rem;
    font-size: 0.7rem;
    color: #555;
  }
  .password-guidelines .guideline-title {
    font-weight: 600;
    margin-bottom: 0.3rem;
    color: #333;
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }
  .password-guidelines .material-icons {
    font-size: 1rem !important;
  }
  .login-submit-btn {
    width: 100%;
    background: linear-gradient(90deg, #000 0%, #333 100%);
    color: #fff;
    padding: 0.8rem;
    font-weight: 700;
    font-size: 0.9rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    margin-bottom: 0.8rem;
    transition: background 0.19s, box-shadow 0.19s, transform 0.15s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
  }
  .login-submit-btn .material-icons {
    font-size: 0.9rem !important;
  }
  .login-submit-btn:hover:not(:disabled), .login-submit-btn:focus-visible:not(:disabled) {
    background: linear-gradient(90deg, #111 10%, #000 90%);
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    transform: translateY(-1px);
    outline: none;
  }
  .login-submit-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  .error-message, .attempt-warning, .success-message {
    padding: 0.6rem;
    border-radius: 6px;
    font-size: 0.75rem;
    margin-bottom: 0.8rem;
    display: none;
    align-items: center;
    gap: 0.4rem;
  }
  .error-message .material-icons, .attempt-warning .material-icons, .success-message .material-icons {
    font-size: 0.8rem !important;
  }
  .error-message {
    background: #fff5f5;
    border: 1px solid #fed7d7;
    color: #c53030;
  }
  .attempt-warning {
    background: #fef5e7;
    border: 1px solid #f6ad55;
    color: #c05621;
  }
  .success-message {
    background: #f0fff4;
    border: 1px solid #9ae6b4;
    color: #2f855a;
  }
  .error-message.show, .attempt-warning.show, .success-message.show {
    display: flex;
  }
  .form-links {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    margin-bottom: 1rem;
  }
  .forgot-links {
    display: flex;
    gap: 0.8rem;
    justify-content: center;
  }
  .login-link {
    color: #000;
    text-decoration: none;
    font-size: 0.8rem;
    font-weight: 500;
    transition: color 0.2s;
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }
  .login-link .material-icons {
    font-size: 1rem !important;
  }
  .login-link:hover {
    color: #333;
    text-decoration: underline;
  }
  .register-section {
    text-align: center;
    padding-top: 1rem;
    border-top: 1px solid #e9ecef;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .register-text {
    font-size: 0.8rem;
    color: #666;
    margin-bottom: 0.3rem;
  }
  .register-description {
    font-size: 0.7rem;
    color: #888;
    line-height: 1.3;
    margin-bottom: 0.6rem;
  }
  /* Terms Notice */
  .terms-notice {
    font-size: 0.65rem;
    color: #888;
    text-align: center;
    margin-top: 0.8rem;
    line-height: 1.2;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    gap: 0.3rem;
  }
  .terms-notice .material-icons {
    font-size: 0.8rem !important;
    margin-top: 0.1rem;
  }
  /* Test Credentials Display */
  .test-credentials {
    position: fixed;
    top: 20px;
    left: 20px;
    background: rgba(0,0,0,0.9);
    color: #fff;
    padding: 1rem;
    border-radius: 8px;
    font-size: 0.75rem;
    max-width: 250px;
    z-index: 1003;
    display: none;
  }
  .test-credentials.show {
    display: block;
  }
  .test-credentials h4 {
    margin: 0 0 0.5rem 0;
    color: #ffd700;
  }
  .test-credentials .cred-section {
    margin-bottom: 0.8rem;
  }
  .test-credentials .cred-title {
    color: #87ceeb;
    font-weight: 600;
    margin-bottom: 0.3rem;
  }
  @media (max-width: 560px) {
    .login-card {
      padding: 1.5rem 1.5rem;
      max-width: 90vw;
    }
    .forgot-links {
      flex-direction: column;
      align-items: center;
      gap: 0.4rem;
    }
    .test-credentials {
      display: none !important;
    }
  }
</style>
</head>
<body>
<header class="header" role="banner">
  <div class="navbar-container">
    <span class="logo" aria-label="Orbisyn Home">Orbisyn</span>
    <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="mainNav">&#9776;</button>
    <div class="nav-and-cta">
      <ul class="nav" id="mainNav" role="menubar" aria-label="Primary navigation">

        <!-- Navbar item 1: Features - HR & Payroll -->
        <li role="none">
          <button class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-hrpayroll" role="menuitem">HR & Payroll</button>
          <div id="dropdown-hrpayroll" role="menu" class="dropdown">
            <div class="dropdown-section">
              <div class="dropdown-title">Payroll Services</div>
              <a href="#">Compare payroll plans</a>
              <a href="#">Small business payroll</a>
            </div>
            <div class="dropdown-section">
              <div class="dropdown-title">Human Resources</div>
              <a href="#">Compare HR plans</a>
              <a href="#">Professional employer organization</a>
              <a href="#">Human Resources overview</a>
            </div>
            <div class="dropdown-section">
              <div class="dropdown-title">Workforce Planning</div>
              <a href="#">Time n attendance</a>
              <a href="#">Time clocks n zones</a>
              <a href="#">HR analytics & reporting</a>
              <a href="#">Workforce planning overview</a>
            </div>
          </div>
        </li>

        <!-- Navbar item 2: Employee Benefits -->
        <li role="none">
          <button class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-benefits" role="menuitem">Employee Benefits</button>
          <div id="dropdown-benefits" role="menu" class="dropdown">
            <a href="#">Health insurance</a>
            <a href="#">Voluntary benefits</a>
            <a href="#">Workers Compensation</a>
            <a href="#">Employee benefits overview</a>
          </div>
        </li>

        <!-- Navbar item 3: Solutions -->
        <li role="none">
          <button class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-solutions" role="menuitem">Solutions</button>
          <div id="dropdown-solutions" role="menu" class="dropdown">
            <div class="dropdown-section">
              <div class="dropdown-title">Business size</div>
              <a href="#">Startup</a>
              <a href="#">Self employed</a>
              <a href="#">1-19 employees</a>
              <a href="#">20-49 employees</a>
              <a href="#">Business solution</a>
            </div>
            <div class="dropdown-section">
              <div class="dropdown-title">Industries</div>
              <a href="#">Restaurants n Hospitality</a>
              <a href="#">Professional services</a>
              <a href="#">Retail</a>
              <a href="#">Skilled trades</a>
              <a href="#">Healthcare</a>
              <a href="#">Manufacturing</a>
              <a href="#">Non profits</a>
              <a href="#">All industries</a>
            </div>
            <div class="dropdown-section">
              <a href="#">Full-service hr n benefits</a>
            </div>
          </div>
        </li>

        <!-- Navbar item 4: Resources -->
        <li role="none">
          <button class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-resources" role="menuitem">Resources</button>
          <div id="dropdown-resources" role="menu" class="dropdown">
            <div class="dropdown-section">
              <div class="dropdown-title">Worx blog</div>
              <a href="#">All content</a>
              <a href="#">Articles</a>
              <a href="#">Guides</a>
            </div>
            <div class="dropdown-section">
              <a href="#">State compliance resourcs</a>
            </div>
            <div class="dropdown-section">
              <div class="dropdown-title">Calc</div>
              <a href="#">Retirement</a>
              <a href="#">Secure act crrdit estimator</a>
              <a href="#">Business expenses calc</a>
              <a href="#">Time calc</a>
              <a href="#">Financial calc</a>
              <a href="#">FSA calc</a>
              <a href="#">FICA tip calc</a>
              <a href="#">SUI calc</a>
            </div>
          </div>
        </li>

        <!-- Navbar item 5: Contact -->
        <li role="none">
          <button class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-contact" role="menuitem">Contact</button>
          <div id="dropdown-contact" role="menu" class="dropdown">
            <a href="#">Contact sales</a>
            <button class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-support" style="padding-left: 0;">Contact Support ▾</button>
            <div id="dropdown-support" role="menu" class="dropdown" style="left:100%;top:0;min-width:220px;max-width:240px;">
              <a href="#" style="padding-left:1rem;">All support options</a>
            </div>
          </div>
        </li>

        <!-- Navbar item 6: About Us -->
        <li role="none">
          <a href="#" class="nav-link" role="menuitem">About Us</a>
        </li>

        <!-- Navbar item 7: Login -->
        <li role="none">
          <button class="login-btn" role="menuitem">Login</button>
        </li>
      </ul>
      <button class="get-started-btn" role="link" tabindex="0">Let's Get Started</button>
    </div>
  </div>
</header>

<!-- Multi-Step Form Modal -->
<div class="form-backdrop" id="formBackdrop">
  <form class="glass-card" autocomplete="off" onsubmit="return false;">
    <button class="close-btn" type="button" aria-label="Close" id="formCloseBtn">&times;</button>
    <h2 class="form-title">Get Custom Pricing to Fit Your Needs</h2>
    <p class="form-description">3 Months of Free Payroll. Fill out the form below and we'll be in touch shortly.</p>
    <div class="progress-container" aria-hidden="true">
      <div class="progress-bar-wrapper">
        <div class="progress-bar-fill" id="formProgressBarFill"></div>
      </div>
      <div class="progress-steps">
        <div class="progress-step active" data-num="1">Step 1</div>
        <div class="progress-step" data-num="2">Step 2</div>
      </div>
    </div>
    <section class="step-content active" id="formStep1">
      <div class="form-fields">
        <div class="input-wrap">
          <label for="formCompanyName" class="form-label">Company Name</label>
          <input type="text" id="formCompanyName" class="form-input" placeholder="Your company name" autocomplete="organization"/>
        </div>
        <div class="input-wrap">
          <label for="formNumEmployees" class="form-label">Number of Employees</label>
          <input type="number" id="formNumEmployees" class="form-input" placeholder="Enter number" min="1" />
        </div>
      </div>
      <button type="button" class="form-next-btn" id="formToStep2Btn" disabled>Next</button>
    </section>
    <section class="step-content" id="formStep2">
      <p class="thank-you-text">
        Thank you for submitting your info.<br />A representative will reach out shortly to help with your custom pricing.
      </p>
    </section>
    <p class="privacy-note">Your information is private and secure</p>
  </form>
</div>

<!-- Test Credentials Display -->
<div class="test-credentials" id="testCredentials">
  <h4>Test Credentials</h4>
  <div class="cred-section">
    <div class="cred-title">Employer (OrbiWave):</div>
    <div>john.smith@techcorp.com</div>
    <div>TechCorp@2024</div>
  </div>
  <div class="cred-section">
    <div class="cred-title">Employee (OrbiFlex):</div>
    <div>dev_alex_2024</div>
    <div>DevCode@123</div>
  </div>
</div>

<!-- Login Form Modal -->
<div class="login-backdrop" id="loginBackdrop">
  <div class="login-card">
    <!-- Loading Overlay -->
    <div class="login-loading-overlay" id="loginLoadingOverlay">
      <div class="login-loading-content">
        <div class="chaotic-orbit"></div>
        <div class="login-loading-message" id="loginLoadingMessage">
          Authenticating your credentials...
        </div>
        <div class="login-loading-submessage" id="loginLoadingSubmessage">
          Please wait while we verify your access
        </div>
        <div class="login-loading-progress">
          <div class="login-loading-progress-bar" id="loginLoadingProgressBar"></div>
        </div>
      </div>
    </div>
    <button class="login-close-btn" type="button" aria-label="Close" id="loginCloseBtn">
      <span class="material-icons">close</span>
    </button>
    <div class="brand-logo">
      <h1>Orbisyn</h1>
    </div>
    <div class="login-toggle">
      <button class="toggle-btn active" data-type="employer">Employer</button>
      <button class="toggle-btn" data-type="employee">Employee</button>
    </div>
    <h2 class="login-title" id="loginTitle">Please sign in</h2>
    <div class="security-warning">
      <div class="warning-title">
        <span class="material-icons">lock</span>
        Security Guidelines
      </div>
      <ul id="securityGuidelines">
        <li>Use your official company email address</li>
        <li>Ensure you're on a secure network connection</li>
        <li>Never share your login credentials</li>
        <li>Log out completely when finished</li>
      </ul>
    </div>
    <div class="error-message" id="errorMessage">
      <span class="material-icons">error</span>
      <span>Invalid Username or Password. Too many failed attempts will lock your account.</span>
    </div>
    <div class="attempt-warning" id="attemptWarning">
      <span class="material-icons">warning</span>
      <span>Account will be locked after 3 more failed attempts. Contact your system administrator if you need assistance.</span>
    </div>
    <div class="success-message" id="successMessage">
      <span class="material-icons">check_circle</span>
      <span></span>
    </div>
    <form id="loginForm">
      <div class="login-form-fields">
        <div class="login-input-group">
          <label for="loginField" class="login-label" id="loginLabel">Email Address</label>
          <input type="email" id="loginField" name="loginField" class="login-input" required />
        </div>
        <div class="login-input-group">
          <label for="loginPassword" class="login-label">Password</label>
          <input type="password" id="loginPassword" name="password" class="login-input" required />
          <button type="button" class="password-toggle" id="passwordToggle">
            <span class="material-icons">visibility</span>
          </button>
        </div>
      </div>
      <div class="password-guidelines" id="passwordGuidelines">
        <div class="guideline-title">
          <span class="material-icons">info</span>
          Password Requirements:
        </div>
        <div id="passwordRequirements">
          Minimum 8 characters, including uppercase, lowercase, number and special character.
        </div>
      </div>
      <button type="submit" class="login-submit-btn" id="loginSubmitBtn">
        <span class="material-icons">login</span>
        <span id="loginBtnText">Sign in to OrbiWave</span>
      </button>
    </form>
    <div class="form-links">
      <div class="forgot-links" id="forgotLinks">
        <a href="#" class="login-link" id="forgotUsername">
          <span class="material-icons">person</span>
          Forgot username
        </a>
        <a href="#" class="login-link" id="forgotPassword">
          <span class="material-icons">key</span>
          Forgot password
        </a>
      </div>
    </div>
    <div class="register-section">
      <div class="register-text" id="registerText">Not Registered Yet?</div>
      <div class="register-description" id="registerDescription">
        If the business you work for is a client of Orbisyn, please click the link below to register.
      </div>
      <a href="#" class="login-link" id="registerLink">
        <span class="material-icons">person_add</span>
        <span>Register Now</span>
      </a>
    </div>
    <div class="terms-notice">
      <span class="material-icons">gavel</span>
      By signing in, you agree to our Terms of Service and Privacy Policy. This system is for authorized users only. All activity is monitored and logged.
    </div>
  </div>
</div>

<script>
  const menuToggle = document.querySelector('.menu-toggle');
  const mainNav = document.getElementById('mainNav');
  const navButtons = mainNav.querySelectorAll('.nav-link[aria-haspopup="true"]');

  menuToggle.addEventListener('click', () => {
    const isShown = mainNav.classList.toggle('show');
    menuToggle.setAttribute('aria-expanded', isShown);
  });

  function closeAllDropdowns(except = null) {
    navButtons.forEach(btn => {
      if (btn !== except) {
        btn.setAttribute('aria-expanded', 'false');
        const dropdown = document.getElementById(btn.getAttribute('aria-controls'));
        if (dropdown) dropdown.classList.remove('open');
      }
    });
  }

  navButtons.forEach(button => {
    button.addEventListener('click', (e) => {
      e.stopPropagation();
      const currentDropdown = document.getElementById(button.getAttribute('aria-controls'));
      const expanded = button.getAttribute('aria-expanded') === 'true';
      closeAllDropdowns(button);
      if (!expanded) {
        button.setAttribute('aria-expanded', 'true');
        if (currentDropdown) currentDropdown.classList.add('open');
      } else {
        button.setAttribute('aria-expanded', 'false');
        if (currentDropdown) currentDropdown.classList.remove('open');
      }
    });
  });

  // Nested support submenu toggle inside Contact dropdown
  const supportToggle = document.querySelector('#dropdown-contact .nav-link[aria-haspopup="true"]');
  if (supportToggle) {
    supportToggle.addEventListener('click', e => {
      e.stopPropagation();
      const supportDropdown = document.getElementById(supportToggle.getAttribute('aria-controls'));
      const expanded = supportToggle.getAttribute('aria-expanded') === 'true';
      if (!expanded) {
        supportToggle.setAttribute('aria-expanded', 'true');
        if (supportDropdown) supportDropdown.classList.add('open');
      } else {
        supportToggle.setAttribute('aria-expanded', 'false');
        if (supportDropdown) supportDropdown.classList.remove('open');
      }
    });
  }

  document.addEventListener('click', () => {
    closeAllDropdowns();
    mainNav.classList.remove('show');
    menuToggle.setAttribute('aria-expanded', 'false');
    if (supportToggle) {
      supportToggle.setAttribute('aria-expanded', 'false');
      const supportDropdown = document.getElementById(supportToggle.getAttribute('aria-controls'));
      if (supportDropdown) supportDropdown.classList.remove('open');
    }
  });

  document.addEventListener('keydown', e => {
    if (e.key === "Escape") {
      closeAllDropdowns();
      mainNav.classList.remove('show');
      menuToggle.setAttribute('aria-expanded', 'false');
      if (supportToggle) {
        supportToggle.setAttribute('aria-expanded', 'false');
        const supportDropdown = document.getElementById(supportToggle.getAttribute('aria-controls'));
        if (supportDropdown) supportDropdown.classList.remove('open');
      }
      // Close form modal on Escape
      const formBackdrop = document.getElementById('formBackdrop');
      if (formBackdrop && formBackdrop.classList.contains('show')) {
        formBackdrop.classList.remove('show');
      }
    }
  });

  // Multi-Step Form Functionality
  const getStartedBtn = document.querySelector('.get-started-btn');
  const formBackdrop = document.getElementById('formBackdrop');
  const formCloseBtn = document.getElementById('formCloseBtn');
  const formCompanyNameInput = document.getElementById('formCompanyName');
  const formNumEmployeesInput = document.getElementById('formNumEmployees');
  const formNextBtn = document.getElementById('formToStep2Btn');
  const formStep1 = document.getElementById('formStep1');
  const formStep2 = document.getElementById('formStep2');
  const formProgressBarFill = document.getElementById('formProgressBarFill');
  const formProgressSteps = document.querySelectorAll('.progress-step');

  // Open form modal when "Let's Get Started" button is clicked
  getStartedBtn.addEventListener('click', () => {
    formBackdrop.classList.add('show');
    // Reset form to step 1
    formStep1.classList.add('active');
    formStep2.classList.remove('active');
    formProgressSteps[0].classList.add('active');
    formProgressSteps[1].classList.remove('active');
    formProgressBarFill.style.width = '0%';
    formCompanyNameInput.value = '';
    formNumEmployeesInput.value = '';
    formNextBtn.disabled = true;
    // Focus on first input
    setTimeout(() => formCompanyNameInput.focus(), 100);
  });

  // Close form modal
  function closeFormModal() {
    formBackdrop.classList.remove('show');
  }

  formCloseBtn.addEventListener('click', closeFormModal);

  // Close modal when clicking on backdrop
  formBackdrop.addEventListener('click', (e) => {
    if (e.target === formBackdrop) {
      closeFormModal();
    }
  });

  // Form progress and validation
  function updateFormProgress() {
    let progress = 0;
    const nameLen = Math.min(formCompanyNameInput.value.trim().length, 50);
    progress += (nameLen / 50) * 50;
    const empVal = formNumEmployeesInput.value.trim();
    if (empVal.length > 0 && !isNaN(empVal) && Number(empVal) > 0) {
      progress += 50;
    }
    formProgressBarFill.style.width = `${progress}%`;
    
    // Update step indicators
    formProgressSteps.forEach((step, index) => {
      if (index === 0) {
        step.classList.toggle('active', progress < 100);
      } else if (index === 1) {
        step.classList.toggle('active', progress === 100);
      }
    });
    
    formNextBtn.disabled = !(formCompanyNameInput.value.trim().length > 0 && empVal.length > 0 && !isNaN(empVal) && Number(empVal) > 0);
  }

  formCompanyNameInput.addEventListener('input', updateFormProgress);
  formNumEmployeesInput.addEventListener('input', updateFormProgress);

  // Move to step 2 and record form submission with loading animation
  formNextBtn.addEventListener('click', () => {
    if (formNextBtn.disabled) return;
    
    // Show processing state
    formNextBtn.disabled = true;
    formNextBtn.innerHTML = '<div class="chaotic-orbit" style="--uib-size: 20px; --uib-color: #fff;"></div>';
    
    // Simulate processing delay
    setTimeout(() => {
      // Record form submission in database
      const formData = {
        companyName: formCompanyNameInput.value.trim(),
        numEmployees: parseInt(formNumEmployeesInput.value.trim()),
        submissionSource: 'get-started-form',
        step: 'company-info'
      };
      
      const submissionId = DatabaseManager.recordSubmission('getStarted', formData);
      DatabaseManager.log('formSubmissions', 'Get Started form submitted', {
        submissionId: submissionId,
        companyName: formData.companyName,
        numEmployees: formData.numEmployees
      });
      
      console.log('📝 Get Started form submitted:', formData);
      console.log('🆔 Submission ID:', submissionId);
      
      // Move to step 2
      formStep1.classList.remove('active');
      formStep2.classList.add('active');
      formProgressBarFill.style.width = '100%';
      formProgressSteps[0].classList.remove('active');
      formProgressSteps[1].classList.add('active');
      
      // Auto-close after 3 seconds
      setTimeout(() => {
        closeFormModal();
        alert(`✅ Thank you ${formData.companyName}! Your information has been recorded.\n\n📊 Company: ${formData.companyName}\n👥 Employees: ${formData.numEmployees}\n🆔 Reference: ${submissionId.slice(-8)}\n\nA representative will contact you shortly!`);
        
        // Reset button
        formNextBtn.disabled = false;
        formNextBtn.innerHTML = 'Next';
      }, 3000);
    }, 1000);
  });

  // Initialize form progress
  updateFormProgress();

  // Login Form Functionality
  const loginBtn = document.querySelector('.login-btn');
  const loginBackdrop = document.getElementById('loginBackdrop');
  const loginCloseBtn = document.getElementById('loginCloseBtn');
  const loginToggleBtns = document.querySelectorAll('.toggle-btn');
  const loginTitle = document.getElementById('loginTitle');
  const loginLabel = document.getElementById('loginLabel');
  const loginField = document.getElementById('loginField');
  const loginSubmitBtn = document.getElementById('loginSubmitBtn');
  const loginBtnText = document.getElementById('loginBtnText');
  const forgotLinks = document.getElementById('forgotLinks');
  const forgotUsername = document.getElementById('forgotUsername');
  const forgotPassword = document.getElementById('forgotPassword');
  const registerText = document.getElementById('registerText');
  const registerDescription = document.getElementById('registerDescription');
  const registerLink = document.getElementById('registerLink');
  const errorMessage = document.getElementById('errorMessage');
  const attemptWarning = document.getElementById('attemptWarning');
  const successMessage = document.getElementById('successMessage');
  const passwordToggle = document.getElementById('passwordToggle');
  const passwordField = document.getElementById('loginPassword');
  const loginForm = document.getElementById('loginForm');
  const securityGuidelines = document.getElementById('securityGuidelines');
  const passwordGuidelines = document.getElementById('passwordGuidelines');
  const passwordRequirements = document.getElementById('passwordRequirements');
  const testCredentials = document.getElementById('testCredentials');

  let currentLoginType = 'employer';
  let attemptCount = 0;

  // Comprehensive Database System for Form Recording
  const orbisyn_database = {
    // User Authentication Database
    users: {
      employer: [
        { id: 'emp_001', email: 'john.smith@techcorp.com', password: 'TechCorp@2024', name: 'John Smith', role: 'CEO', company: 'TechCorp Solutions', status: 'active', lastLogin: null },
        { id: 'emp_002', email: 'sarah.johnson@innovate.biz', password: 'Innovation!123', name: 'Sarah Johnson', role: 'HR Manager', company: 'Innovate Business Solutions', status: 'active', lastLogin: null },
        { id: 'emp_003', email: 'michael.chen@globaltech.net', password: 'Finance#2024', name: 'Michael Chen', role: 'Finance Director', company: 'GlobalTech Industries', status: 'active', lastLogin: null }
      ],
      employee: [
        { id: 'emp_101', username: 'dev_alex_2024', password: 'DevCode@123', name: 'Alex Rodriguez', role: 'Senior Developer', department: 'Engineering', employeeId: 'ENG001', status: 'active', lastLogin: null },
        { id: 'emp_102', username: 'marketing_lisa', password: 'Market!ng456', name: 'Lisa Williams', role: 'Marketing Specialist', department: 'Marketing', employeeId: 'MKT001', status: 'active', lastLogin: null },
        { id: 'emp_103', username: 'sales_robert', password: 'Sales&Rep789', name: 'Robert Davis', role: 'Sales Representative', department: 'Sales', employeeId: 'SAL001', status: 'active', lastLogin: null },
        { id: 'emp_104', username: 'hr_assistant_jane', password: 'HumanRes@2024', name: 'Jane Miller', role: 'HR Assistant', department: 'Human Resources', employeeId: 'HR001', status: 'active', lastLogin: null }
      ]
    },
    
    // Form Submissions Database
    submissions: {
      getStarted: [],
      contactUs: [],
      newsletter: [],
      loginAttempts: [],
      registrations: [],
      passwordReset: []
    },
    
    // System Logs
    logs: {
      loginAttempts: [],
      formSubmissions: [],
      errors: [],
      security: []
    }
  };

  // Database Helper Functions
  const DatabaseManager = {
    // Save data to localStorage
    save: function() {
      try {
        localStorage.setItem('orbisyn_database', JSON.stringify(orbisyn_database));
        console.log('✅ Database saved successfully');
      } catch (error) {
        console.error('❌ Failed to save database:', error);
      }
    },
    
    // Load data from localStorage
    load: function() {
      try {
        const saved = localStorage.getItem('orbisyn_database');
        if (saved) {
          const loadedData = JSON.parse(saved);
          // Merge with default structure to ensure all properties exist
          Object.assign(orbisyn_database, loadedData);
          console.log('✅ Database loaded successfully');
        }
      } catch (error) {
        console.error('❌ Failed to load database:', error);
      }
    },
    
    // Record form submission
    recordSubmission: function(formType, data) {
      const submission = {
        id: 'sub_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
        timestamp: new Date().toISOString(),
        formType: formType,
        data: data,
        userAgent: navigator.userAgent,
        url: window.location.href
      };
      
      orbisyn_database.submissions[formType].push(submission);
      this.log('formSubmissions', `Form submitted: ${formType}`, submission);
      this.save();
      return submission.id;
    },
    
    // Record login attempt
    recordLoginAttempt: function(loginType, identifier, success, userInfo = null) {
      const attempt = {
        id: 'login_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
        timestamp: new Date().toISOString(),
        loginType: loginType,
        identifier: identifier,
        success: success,
        userInfo: userInfo,
        ip: 'localhost', // In real app, get actual IP
        userAgent: navigator.userAgent
      };
      
      orbisyn_database.logs.loginAttempts.push(attempt);
      if (success && userInfo) {
        // Update user's last login
        const users = orbisyn_database.users[loginType];
        const user = users.find(u => 
          loginType === 'employer' ? u.email === identifier : u.username === identifier
        );
        if (user) {
          user.lastLogin = new Date().toISOString();
        }
      }
      this.save();
      return attempt.id;
    },
    
    // Log system events
    log: function(category, message, data = null) {
      const logEntry = {
        id: 'log_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
        timestamp: new Date().toISOString(),
        category: category,
        message: message,
        data: data
      };
      
      orbisyn_database.logs[category].push(logEntry);
      console.log(`📝 [${category.toUpperCase()}] ${message}`, data);
    },
    
    // Get all submissions by type
    getSubmissions: function(formType) {
      return orbisyn_database.submissions[formType] || [];
    },
    
    // Get user statistics
    getStats: function() {
      return {
        totalUsers: orbisyn_database.users.employer.length + orbisyn_database.users.employee.length,
        totalSubmissions: Object.values(orbisyn_database.submissions).reduce((sum, arr) => sum + arr.length, 0),
        totalLoginAttempts: orbisyn_database.logs.loginAttempts.length,
        successfulLogins: orbisyn_database.logs.loginAttempts.filter(a => a.success).length
      };
    },
    
    // Export all data
    exportData: function() {
      const dataStr = JSON.stringify(orbisyn_database, null, 2);
      const dataBlob = new Blob([dataStr], {type: 'application/json'});
      const url = URL.createObjectURL(dataBlob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `orbisyn_database_${new Date().toISOString().split('T')[0]}.json`;
      link.click();
      URL.revokeObjectURL(url);
    }
  };

  // Initialize database
  DatabaseManager.load();

  // Console Commands for Database Access (for development/testing)
  window.OrbisDB = {
    // View all data
    viewAll: () => {
      console.log('🗄️ Complete Orbisyn Database:', orbisyn_database);
      return orbisyn_database;
    },
    
    // View specific data types
    viewUsers: () => {
      console.log('👥 All Users:', orbisyn_database.users);
      return orbisyn_database.users;
    },
    
    viewSubmissions: (type = null) => {
      if (type) {
        console.log(`📝 ${type} Submissions:`, orbisyn_database.submissions[type]);
        return orbisyn_database.submissions[type];
      }
      console.log('📝 All Submissions:', orbisyn_database.submissions);
      return orbisyn_database.submissions;
    },
    
    viewLogs: (category = null) => {
      if (category) {
        console.log(`📋 ${category} Logs:`, orbisyn_database.logs[category]);
        return orbisyn_database.logs[category];
      }
      console.log('📋 All Logs:', orbisyn_database.logs);
      return orbisyn_database.logs;
    },
    
    // Get statistics
    stats: () => {
      const stats = DatabaseManager.getStats();
      console.log('📊 Database Statistics:', stats);
      return stats;
    },
    
    // Export data
    export: () => {
      DatabaseManager.exportData();
      console.log('💾 Database exported to file');
    },
    
    // Clear specific data (for testing)
    clearSubmissions: (type = null) => {
      if (type && orbisyn_database.submissions[type]) {
        orbisyn_database.submissions[type] = [];
        console.log(`🗑️ Cleared ${type} submissions`);
      } else {
        Object.keys(orbisyn_database.submissions).forEach(key => {
          orbisyn_database.submissions[key] = [];
        });
        console.log('🗑️ Cleared all submissions');
      }
      DatabaseManager.save();
    },
    
    clearLogs: (category = null) => {
      if (category && orbisyn_database.logs[category]) {
        orbisyn_database.logs[category] = [];
        console.log(`🗑️ Cleared ${category} logs`);
      } else {
        Object.keys(orbisyn_database.logs).forEach(key => {
          orbisyn_database.logs[key] = [];
        });
        console.log('🗑️ Cleared all logs');
      }
      DatabaseManager.save();
    },
    
    // Reset database
    reset: () => {
      localStorage.removeItem('orbisyn_database');
      console.log('🔄 Database reset - refresh page to reinitialize');
    },
    
    // Help
    help: () => {
      console.log(`
🗄️ Orbisyn Database Console Commands:

📊 Data Viewing:
  OrbisDB.viewAll()                    - View complete database
  OrbisDB.viewUsers()                  - View all users
  OrbisDB.viewSubmissions()            - View all form submissions
  OrbisDB.viewSubmissions('getStarted') - View specific form type
  OrbisDB.viewLogs()                   - View all logs
  OrbisDB.viewLogs('security')         - View specific log category

📈 Statistics:
  OrbisDB.stats()                      - View database statistics

💾 Data Management:
  OrbisDB.export()                     - Export database to JSON file
  OrbisDB.clearSubmissions()           - Clear all submissions
  OrbisDB.clearSubmissions('getStarted') - Clear specific form submissions
  OrbisDB.clearLogs()                  - Clear all logs
  OrbisDB.reset()                      - Reset entire database

❓ Help:
  OrbisDB.help()                       - Show this help message
      `);
    }
  };

  // Log available console commands
  console.log('🗄️ Orbisyn Database System Initialized!');
  console.log('💡 Type OrbisDB.help() for available commands');
  console.log('📊 Current stats:', DatabaseManager.getStats());

  // Open login modal when Login button is clicked
  loginBtn.addEventListener('click', () => {
    loginBackdrop.classList.add('show');
    testCredentials.classList.add('show');
    // Reset form
    resetLoginForm();
    // Focus on first input
    setTimeout(() => loginField.focus(), 100);
  });

  // Close login modal
  function closeLoginModal() {
    loginBackdrop.classList.remove('show');
    testCredentials.classList.remove('show');
    resetLoginForm();
  }

  function resetLoginForm() {
    loginField.value = '';
    passwordField.value = '';
    errorMessage.classList.remove('show');
    attemptWarning.classList.remove('show');
    successMessage.classList.remove('show');
    attemptCount = 0;
    loginSubmitBtn.disabled = false;
    loginSubmitBtn.style.opacity = '1';
    loginSubmitBtn.style.cursor = 'pointer';
    passwordField.type = 'password';
    passwordToggle.querySelector('.material-icons').textContent = 'visibility';
  }

  loginCloseBtn.addEventListener('click', closeLoginModal);

  // Close modal when clicking on backdrop
  loginBackdrop.addEventListener('click', (e) => {
    if (e.target === loginBackdrop) {
      closeLoginModal();
    }
  });

  // Toggle between employer and employee login
  loginToggleBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      loginToggleBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentLoginType = btn.dataset.type;
      updateLoginForm();
      // Reset warnings when switching
      hideAllMessages();
      attemptCount = 0;
      resetLoginButton();
    });
  });

  function updateLoginForm() {
    if (currentLoginType === 'employer') {
      loginTitle.textContent = 'Please sign in';
      loginLabel.textContent = 'Email Address';
      loginField.type = 'email';
      loginField.placeholder = 'Enter your company email';
      loginBtnText.textContent = 'Sign in to OrbiWave';
      // Update security guidelines for employers
      securityGuidelines.innerHTML = `
        <li>Use your official company email address</li>
        <li>Ensure you're on a secure network connection</li>
        <li>Never share your login credentials</li>
        <li>Log out completely when finished</li>
      `;
      // Hide forgot username link for employer
      forgotUsername.style.display = 'none';
      registerText.textContent = 'Not Registered Yet?';
      registerDescription.textContent = 'If the business you work for is a client of Orbisyn, please click the link below to register.';
      registerLink.innerHTML = '<span class="material-icons">person_add</span><span>Register Now</span>';
      passwordRequirements.textContent = 'Minimum 8 characters, including uppercase, lowercase, number and special character.';
    } else {
      loginTitle.textContent = 'Employee Login';
      loginLabel.textContent = 'Username';
      loginField.type = 'text';
      loginField.placeholder = 'Enter your username';
      loginBtnText.textContent = 'Sign in to OrbiFlex';
      // Update security guidelines for employees
      securityGuidelines.innerHTML = `
        <li>Use your assigned employee username</li>
        <li>Access only from approved devices</li>
        <li>Report suspicious activity immediately</li>
        <li>Log out when leaving your workstation</li>
      `;
      // Show forgot username link for employee
      forgotUsername.style.display = 'flex';
      registerText.textContent = 'New to Orbisyn Flex?';
      registerDescription.textContent = 'Contact your HR department for account setup assistance.';
      registerLink.innerHTML = '<span class="material-icons">person_add</span><span>Sign up</span>';
      passwordRequirements.textContent = 'Must meet company password policy requirements. Contact IT support for assistance.';
    }
  }

  // Password toggle functionality
  passwordToggle.addEventListener('click', () => {
    const icon = passwordToggle.querySelector('.material-icons');
    if (passwordField.type === 'password') {
      passwordField.type = 'text';
      icon.textContent = 'visibility_off';
    } else {
      passwordField.type = 'password';
      icon.textContent = 'visibility';
    }
  });

  // Login Loading Animation Controller
  const loginLoadingOverlay = document.getElementById('loginLoadingOverlay');
  const loginLoadingMessage = document.getElementById('loginLoadingMessage');
  const loginLoadingSubmessage = document.getElementById('loginLoadingSubmessage');
  const loginLoadingProgressBar = document.getElementById('loginLoadingProgressBar');

  function showLoginLoader(type = 'authenticating') {
    loginLoadingOverlay.classList.add('show');
    
    const messages = {
      authenticating: {
        message: 'Authenticating your credentials...',
        submessage: 'Please wait while we verify your access',
        color: '#007bff'
      },
      employer: {
        message: 'Connecting to OrbiWave...',
        submessage: 'Preparing your employer dashboard',
        color: '#28a745'
      },
      employee: {
        message: 'Connecting to OrbiFlex...',
        submessage: 'Loading your employee portal',
        color: '#17a2b8'
      },
      failed: {
        message: 'Authentication failed',
        submessage: 'Please check your credentials',
        color: '#dc3545'
      },
      locked: {
        message: 'Account security check...',
        submessage: 'Verifying account status',
        color: '#ffc107'
      }
    };
    
    const config = messages[type] || messages.authenticating;
    loginLoadingMessage.textContent = config.message;
    loginLoadingSubmessage.textContent = config.submessage;
    
    // Update loader color
    document.documentElement.style.setProperty('--uib-color', config.color);
    
    // Animate progress bar
    loginLoadingProgressBar.style.width = '0%';
    setTimeout(() => {
      loginLoadingProgressBar.style.width = '100%';
    }, 100);
  }

  function hideLoginLoader() {
    loginLoadingOverlay.classList.remove('show');
    loginLoadingProgressBar.style.width = '0%';
  }

  // Form submission with animated loading states
  loginForm.addEventListener('submit', (e) => {
    e.preventDefault();
    console.log('🔍 Login form submitted');
    console.log('📝 Current login type:', currentLoginType);
    console.log('📧 Login field value:', loginField.value);
    console.log('🔒 Password field has value:', !!passwordField.value);
    
    // Basic form validation
    if (!loginField.value.trim() || !passwordField.value.trim()) {
      showError('Please fill in all required fields.');
      DatabaseManager.log('errors', 'Login form validation failed - empty fields');
      return;
    }
    
    // Show initial loading animation
    hideAllMessages();
    showLoginLoader('authenticating');
    
    // Simulate authentication delay for better UX
    setTimeout(() => {
      // Check credentials from database
      const users = orbisyn_database.users[currentLoginType];
      const loginValue = loginField.value.trim();
      const passwordValue = passwordField.value.trim();
      let user = null;
      
      console.log('👥 Available users for', currentLoginType, ':', users);
      
      if (currentLoginType === 'employer') {
        user = users.find(u => {
          const emailMatch = u.email.toLowerCase() === loginValue.toLowerCase();
          const passwordMatch = u.password === passwordValue;
          const statusMatch = u.status === 'active';
          console.log(`🔍 Checking user ${u.email}: email=${emailMatch}, password=${passwordMatch}, status=${statusMatch}`);
          return emailMatch && passwordMatch && statusMatch;
        });
      } else {
        user = users.find(u => {
          const usernameMatch = u.username === loginValue;
          const passwordMatch = u.password === passwordValue;
          const statusMatch = u.status === 'active';
          console.log(`🔍 Checking user ${u.username}: username=${usernameMatch}, password=${passwordMatch}, status=${statusMatch}`);
          return usernameMatch && passwordMatch && statusMatch;
        });
      }
      
      console.log('👤 Found user:', user);
      
      if (user) {
        // Show platform-specific loading
        showLoginLoader(currentLoginType);
        
        // Successful login - Record in database
        const loginId = DatabaseManager.recordLoginAttempt(currentLoginType, loginValue, true, user);
        const platformName = currentLoginType === 'employer' ? 'OrbiWave' : 'OrbiFlex';
        
        // Reset attempt count on successful login
        attemptCount = 0;
        
        setTimeout(() => {
          hideLoginLoader();
          showSuccess(`Welcome back, ${user.name}! Redirecting to ${platformName}...`);
          
          setTimeout(() => {
            closeLoginModal();
            DatabaseManager.log('security', `Successful login for ${user.name} (${user.role})`, {
              loginId: loginId,
              userId: user.id,
              platform: platformName
            });
            
            console.log(`✅ Successfully logged in as ${user.role} on ${platformName}`);
            console.log('👤 User details:', user);
            alert(`🎉 Login successful! Welcome to ${platformName} dashboard, ${user.name}!\n\n👤 Role: ${user.role}\n🏢 ${currentLoginType === 'employer' ? 'Company: ' + user.company : 'Department: ' + user.department}`);
          }, 2000);
        }, 1500);
        
      } else {
        // Failed login - Show failure animation
        showLoginLoader('failed');
        
        setTimeout(() => {
          hideLoginLoader();
          
          // Record failed attempt
          DatabaseManager.recordLoginAttempt(currentLoginType, loginValue, false);
          attemptCount++;
          
          if (attemptCount >= 5) {
            showLoginLoader('locked');
            setTimeout(() => {
              hideLoginLoader();
              showError('Account has been locked due to too many failed attempts. Please contact your system administrator.');
              disableLoginButton();
              DatabaseManager.log('security', `Account locked due to failed attempts for ${loginValue}`, {
                attemptCount: attemptCount,
                loginType: currentLoginType
              });
            }, 1500);
            return;
          }
          
          if (attemptCount >= 2 && attemptCount < 5) {
            attemptWarning.classList.add('show');
            DatabaseManager.log('security', `Multiple failed login attempts for ${loginValue}`, {
              attemptCount: attemptCount,
              loginType: currentLoginType
            });
          }
          
          showError('Invalid credentials. Please check your login information and try again.');
          DatabaseManager.log('security', `Failed login attempt for ${loginValue}`, {
            attemptCount: attemptCount,
            loginType: currentLoginType
          });
        }, 1200);
      }
    }, 800); // Initial authentication delay
  });

  // Utility functions for enhanced login
  function showError(message) {
    hideAllMessages();
    errorMessage.querySelector('span:last-child').textContent = message;
    errorMessage.classList.add('show');
  }

  function showSuccess(message) {
    hideAllMessages();
    successMessage.querySelector('span:last-child').textContent = message;
    successMessage.classList.add('show');
  }

  function hideAllMessages() {
    errorMessage.classList.remove('show');
    attemptWarning.classList.remove('show');
    successMessage.classList.remove('show');
  }

  function disableLoginButton() {
    loginSubmitBtn.disabled = true;
    loginSubmitBtn.style.opacity = '0.5';
    loginSubmitBtn.style.cursor = 'not-allowed';
  }

  function resetLoginButton() {
    loginSubmitBtn.disabled = false;
    loginSubmitBtn.style.opacity = '1';
    loginSubmitBtn.style.cursor = 'pointer';
  }

  // Forgot Username functionality
  forgotUsername.addEventListener('click', (e) => {
    e.preventDefault();
    const userList = orbisyn_database.users.employee.map(u => `• ${u.username} (${u.name})`).join('\n');
    alert(`📋 Available Employee Usernames:\n\n${userList}\n\n💡 Contact your HR department if you need assistance.`);
    DatabaseManager.log('formSubmissions', 'Forgot username request', { loginType: currentLoginType });
  });

  // Forgot Password functionality
  forgotPassword.addEventListener('click', (e) => {
    e.preventDefault();
    const message = currentLoginType === 'employer' 
      ? '🔑 Password Reset Request\n\nFor security reasons, employer password resets must be handled by your IT administrator.\n\n📞 Please contact your IT support team with:\n• Your email address\n• Employee ID or company information\n• Reason for password reset\n\n🔒 A secure reset link will be sent to your registered email.'
      : '🔑 Password Reset Request\n\nFor security reasons, employee password resets must be handled by your HR department.\n\n📞 Please contact your HR team with:\n• Your username\n• Employee ID\n• Department information\n\n🔒 Your password will be reset and provided securely.';
    
    alert(message);
    
    // Record the request
    DatabaseManager.recordSubmission('passwordReset', {
      loginType: currentLoginType,
      requestedBy: loginField.value.trim() || 'unknown',
      timestamp: new Date().toISOString()
    });
    DatabaseManager.log('security', 'Password reset requested', { 
      loginType: currentLoginType,
      identifier: loginField.value.trim() || 'unknown'
    });
  });

  // Sign Up functionality
  registerLink.addEventListener('click', (e) => {
    e.preventDefault();
    
    if (currentLoginType === 'employer') {
      // Employer registration
      const companyName = prompt('🏢 Company Registration\n\nPlease enter your company name:');
      if (companyName && companyName.trim()) {
        const contactEmail = prompt('📧 Please enter your business email address:');
        if (contactEmail && contactEmail.trim()) {
          const registrationData = {
            type: 'employer',
            companyName: companyName.trim(),
            contactEmail: contactEmail.trim(),
            status: 'pending',
            requestedFeatures: ['payroll', 'hr-management', 'reporting']
          };
          
          DatabaseManager.recordSubmission('registrations', registrationData);
          alert(`✅ Registration Request Submitted!\n\n🏢 Company: ${companyName}\n📧 Email: ${contactEmail}\n\n📞 A sales representative will contact you within 24 hours to:\n• Discuss your payroll needs\n• Provide custom pricing\n• Schedule a demo\n• Set up your account\n\n🆔 Reference: ${Date.now().toString().slice(-6)}`);
        }
      }
    } else {
      // Employee registration
      alert(`👥 Employee Account Setup\n\n🏢 Employee accounts are created by your HR department.\n\n📞 Please contact your HR team with:\n• Your full name\n• Employee ID\n• Department\n• Start date\n• Manager's name\n\n💡 Your HR team will:\n• Create your OrbiFlex account\n• Provide your username and temporary password\n• Set up your payroll and benefits access\n• Schedule orientation if needed\n\n📧 You'll receive login credentials via your company email once your account is ready.`);
      
      DatabaseManager.recordSubmission('registrations', {
        type: 'employee',
        status: 'info-requested',
        timestamp: new Date().toISOString()
      });
    }
    
    DatabaseManager.log('formSubmissions', 'Registration request', { 
      loginType: currentLoginType 
    });
  });

  // Initialize login form
  updateLoginForm();

  // Add Escape key support for login modal
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && loginBackdrop.classList.contains('show')) {
      closeLoginModal();
    }
  });
</script>
</body>
</html>
